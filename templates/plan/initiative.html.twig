{% if recoverInitiatives is defined %}
	<div class="col-md-12 col-sm-12 widget-container-col" id="widget-container-col-8">
		<div class="widget-box widget-color-blue" id="widget-box-8">
			<div class="widget-header">
				<h5 class="widget-title bigger lighter">
					<strong>Recommended Initiatives</strong>
				</h5>
				<div class="widget-toolbar"></div>
				<div class="widget-toolbar">
					<span class="badge badge-info">
						{% trans %}Total{% endtrans %}
						:{{recoverInitiatives.getTotalItemCount()}}
						<strong></strong>
					</span>
				</div>
			</div>
			<div class="widget-body">
				<div class="widget-toolbox" id="widget-toolbox-1">
					<div class="btn-toolbar">
						<div class="btn-group"></div>


					</div>
				</div>
				<div class="widget-main padding-16">
					<div class="row">
						<div class="search-area col-md-12">
							<div></div>


							<div class="pull-right">
								<div class="widget-toolbar no-border">


									<button class="btn btn-sm btn-round btn-bold btn-white bigger btn-default dropdown-toggle" data-toggle="dropdown">
										<b class="text-primary">Action</b>
										<i class="ace-icon fa fa-chevron-down icon-on-right"></i>
									</button>

									<ul class="dropdown-menu dropdown-yellow dropdown-menu-right dropdown-caret">
										<li>
											<a href="#" id="suitablebutton2">
												<i class="ace-icon fa fa-stop green"></i>
												Select As Suitable</a>
										</li>
										<li>
											<a href="#" id="nonsuitablebutton">
												<i class="ace-icon fa fa-stop red"></i>
												Select As Non Suitable</a>
										</li>


									</ul>
								</div>

							</div>
						</div>
						<div class="table-responsive col-md-12">


							<table class="table table-striped table-bordered table-hover">
								<div class="table-header"></div>
								<thead>
									<tr>
										<th class="text-center">
											<label class="inline">

												<input type="checkbox" name="initiative[]" id="checkall2" value="" class="ace">
												<span class="lbl"></span>
											</label>
										</th>
										<th>#</th>
										<th>{% trans %}Goal{% endtrans %}</th>
										<th>{% trans %}Kpi{% endtrans %}</th>

										<th>{% trans %}Name{% endtrans %}</th>
										<th>{% trans %}Weight{% endtrans %}</th>
										<th>{% trans %}Selected As{% endtrans %}</th>
										{# <th>{% trans %}Description{% endtrans %}</th> #}
										<th>{% trans %}actions{% endtrans %}</th>
									</tr>
								</thead>
								<tbody>
									{% set count =  recoverInitiatives .getItemNumberPerPage() * (recoverInitiatives .getCurrentPageNumber() -1) %}
									<form action="{{path('plan_index')}}" id="initiative_form2" method="get">
										<input type="hidden" name="planyear" value="{{planyear.id}}">
										<input type="hidden" name="office" value="{{pricipaloffice.id}}">
										<input type="hidden" name="nonsuitable" id="nonsuit" value="">

										{% for initiative in recoverInitiatives %}
											{% set count = count+1 %}
											<tr>


												<td class="text-center">
													<label class="inline">
														<input type="checkbox" name="initiative[]" value="{{initiative.id}}" class="ace" required>
														<span class="lbl"></span>
													</label>
												</td>
												<td>{{count}}

												</td>
												<td>{{initiative.keyPerformanceIndicator.strategy.objective.goal|title}}</td>
												<td>{{initiative.keyPerformanceIndicator|title}}</td>

												<td>{{ initiative.name }}</td>
												<td>{{ initiative.weight }}</td>
												<td>
													{% set suit = initiative.suitableInitiatives|filter(suit => suit.planningYear.id == planyear.id and suit.principalOffice.id == pricipaloffice.id )  %}
													{% if suit|length >0 %}
														<span class="badge badge-primary">suitable</span>
													{% else %}
														<span class="badge badge-danger">non suitable</span>
													{% endif %}

												</td>
												{# <td>{{ initiative.description|raw}}</td> #}
												<td>
													<a href="{{ path('initiative_show', {'id': initiative.id}) }}" class="btn btn-primary btn-sm">
														<i class="fa fa-eye"></i>
													</a>


												</td>
											</tr>
										{% else %}
											<tr>
												<td colspan="8">no records found</td>
											</tr>
										{% endfor %}
									</form>
								</tbody>
							</table>
							<div class="pull-right rec" id="">{{ knp_pagination_render(recoverInitiatives) }}</div>

						</div>
					</div>


				</div>
			</div>
		</div>
	</div>
	<script src="{{asset('assets/assets/js/jquery-2.1.4.min.js')}}"></script>
	<script>
		$(function () {


$('#checkall2').click(function () {
var $chk = $(':checkbox');
$chk.prop('checked', $(this).is(':checked'));

})
$('#suitablebutton2').click(function () {
$('#initiative_form2').submit();
})
$('#nonsuitablebutton').click(function () {
$('#nonsuit').val(true);
$('#initiative_form2').submit();
})
});
	</script>
{% endif %}
